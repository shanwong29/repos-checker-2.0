(this["webpackJsonprepos-checker"]=this["webpackJsonprepos-checker"]||[]).push([[0],{10:function(e,a,t){e.exports={colors:'"../../index.css"',borderColor:"#E1E1E1",mainBkg:"#f9f9f9",tapWrapper:"TabPanel_tapWrapper__2ZDxF",normalTap:"TabPanel_normalTap__BVurl",activeTab:"TabPanel_activeTab__1QoYL TabPanel_normalTap__BVurl"}},11:function(e,a,t){e.exports={profilePic:"AuthorInfo_profilePic__39Sne",link:"AuthorInfo_link__PM8bl"}},24:function(e,a,t){e.exports={loadingCircle:"LoadingCircle_loadingCircle__3ImjQ",spin:"LoadingCircle_spin__2msQP"}},25:function(e,a,t){e.exports=t(49)},3:function(e,a,t){e.exports={colors:'"../../index.css"',brownOrange:"#dd6e42",mainDarkBlue:"#4f6d7a",lightOrange:"#ef8354",brickOrange:"#D85113",lightMelon:"#ffdab9",melon:"#fbc4ab",nav:"Navbar_nav__3O7LN",logo:"Navbar_logo__3IRT5",link:"Navbar_link__1FkAi",form:"Navbar_form__3BUoN",input:"Navbar_input__1lY1_",submitBtn:"Navbar_submitBtn__3ddgF",placeholder:"Navbar_placeholder__Rv6AA",inputWarning:"Navbar_inputWarning__mGBch",formWrapper:"Navbar_formWrapper__1WAqs"}},30:function(e,a,t){},4:function(e,a,t){e.exports={colors:'"../../index.css"',borderColor:"#E1E1E1",brownOrange:"#dd6e42",issueWrapper:"Issue_issueWrapper__2-3Zb",issueDetailsWrapper:"Issue_issueDetailsWrapper__j67Aa",issueText:"Issue_issueText__33BuE",btnWrapper:"Issue_btnWrapper__1qeP2",toggleBtn:"Issue_toggleBtn__3Z-RH",toggleBtnDisabled:"Issue_toggleBtnDisabled__34Wwv"}},49:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(23),s=t.n(o),l=(t(30),t(5)),c=t(6),u=t(1),i=t(9),m=t.n(i),p=t(11),b=t.n(p),f=function(e){var a=e.authorName,t=e.avatarUrl,r=e.timeStamp;return n.a.createElement(n.a.Fragment,null,n.a.createElement("a",{className:b.a.link,href:"https://github.com/".concat(a),target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{src:t,alt:a,className:b.a.profilePic}),n.a.createElement("strong",null,a)),n.a.createElement("span",null," \u2022 ",function(e){var a=new Date(e),t=a.getDate(),r={0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"}[a.getMonth()],n=a.getFullYear(),o=String(a.getHours()).padStart(2,"0"),s=String(a.getMinutes()).padStart(2,"0");return"".concat(t," ").concat(r," ").concat(n," ").concat(o,":").concat(s)}(r)))},d=t(24),g=t.n(d),_=function(){return n.a.createElement("div",{className:g.a.loadingCircle})},v=t(7),h=t.n(v),E=t(8),N=t.n(E),k=t(12),y=t(13),O=t.n(y),C={url:{API_URL:"https://repos-checker-server.herokuapp.com/api"}}.url.API_URL,S=function(e){console.log("USEFETCH");var a=e.queryType,t=e.variables,n=e.skip,o=Object(r.useState)(null),s=Object(u.a)(o,2),l=s[0],i=s[1],m=Object(r.useState)(null),p=Object(u.a)(m,2),b=p[0],f=p[1],d=Object(r.useState)(null),g=Object(u.a)(d,2),_=g[0],v=g[1],h=Object(r.useState)(null),E=Object(u.a)(h,2),y=E[0],S=E[1],T=Object(r.useState)(!1),j=Object(u.a)(T,2),x=j[0],I=j[1];return{data:l,errorFromGithubApi:b,errorFromServer:_,fetchData:function(){var e=Object(k.a)(N.a.mark((function e(){var r,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,I(!0),e.next=6,O.a.post(C,{queryType:a,variables:t});case 6:if(r=e.sent,I(!1),!r.data.response){e.next=14;break}return f(r.data.response.errors[0].message),i(null),v(null),S(null),e.abrupt("return");case 14:if(null!==r.data.repository){e.next=21;break}return o=t.name,f("Could not resolve to a Repository with the name '".concat(o,"'.")),i(null),v(null),S(null),e.abrupt("return");case 21:i(r.data),f(null),v(null),S(null),e.next=34;break;case 27:e.prev=27,e.t0=e.catch(2),v(e.t0),f(null),S(null),i(null),I(!1);case 34:case"end":return e.stop()}}),e,null,[[2,27]])})));return function(){return e.apply(this,arguments)}}(),fetchMore:function(){var e=Object(k.a)(N.a.mark((function e(r){var o,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return");case 2:return o=r.cursor,e.prev=3,I(!0),e.next=7,O.a.post(C,{queryType:a,variables:Object(c.a)({},t,{cursor:o})});case 7:if(s=e.sent,I(!1),!s.data.response){e.next=14;break}return f(s.data.response.errors[0].message),e.abrupt("return");case 14:return S({previousData:r.previousData,newData:s.data}),e.abrupt("return");case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),v(e.t0),I(!1);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(a){return e.apply(this,arguments)}}(),fetchMoreResult:y,isLoading:x}},T=function(e){var a=e.ID;console.log("Comments");var t,o,s,c,u=S({queryType:"comments",variables:{ID:a},skip:!a}),i=u.data,m=(u.errorFromGithubApi,u.errorFromServer,u.fetchData),p=u.fetchMore,b=u.fetchMoreResult,d=u.isLoading;if(Object(r.useEffect)((function(){m()}),[]),i&&(t=i.node.comments),b){var g=b.previousData;(t=b.newData.node.comments).edges=[].concat(Object(l.a)(g),Object(l.a)(t.edges))}if(t){var v=t.pageInfo;o=v.hasNextPage,s=v.endCursor,c=t.totalCount}var E=t&&t.edges.map((function(e,a){var t=e.node.author,r=t.avatarUrl,o=t.login;return n.a.createElement("div",{className:h.a.eachCommentWrapper,key:a},n.a.createElement(f,{authorName:o,avatarUrl:r,timeStamp:e.node.createdAt}),n.a.createElement("div",{className:h.a.commentText,dangerouslySetInnerHTML:{__html:e.node.bodyHTML}}))}));return n.a.createElement(n.a.Fragment,null,d&&n.a.createElement(_,null),E&&n.a.createElement("div",{className:h.a.commentsWrapper},n.a.createElement("h3",null,"Comments (",c,")"),E,o&&n.a.createElement("button",{className:h.a.fetchMoreBtn,onClick:function(){p({previousData:t.edges,cursor:s})}},"View more comments... (",t.edges.length,"/",c,")")))},j=t(4),x=t.n(j),I=function(e){var a=e.issue;console.log("ISSUES");var t=Object(r.useState)(null),o=Object(u.a)(t,2),s=o[0],l=o[1],c=Object(r.useState)(!1),i=Object(u.a)(c,2),m=i[0],p=i[1];return Object(r.useEffect)((function(){l(null)}),[a]),a=a.edges.map((function(e,a){var t=e.node.comments.totalCount,r=e.node.author,o=r.login,c=r.avatarUrl,u=e.node.bodyHTML,i=s===a;return n.a.createElement("div",{key:a,className:x.a.issueWrapper},n.a.createElement(f,{authorName:o,avatarUrl:c,timeStamp:e.node.createdAt}),n.a.createElement("div",{className:x.a.issueDetailsWrapper},n.a.createElement("h4",null,e.node.title),!i&&n.a.createElement("button",{className:x.a.toggleBtn,onClick:function(){l(a),p(!1)}},"\u2295 Read more"),i&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:x.a.issueText,dangerouslySetInnerHTML:{__html:u}}),m&&n.a.createElement(T,{ID:e.node.id}),n.a.createElement("div",{className:x.a.btnWrapper},!m&&n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{className:t?x.a.toggleBtn:x.a.toggleBtnDisabled,onClick:function(){return p(!0)},disabled:!t},"\ud83d\udcac Comments (",t,")"),"|"),n.a.createElement("button",{className:x.a.toggleBtn,onClick:function(){l(null),p(!1)}},"\u2296 Close")))))}))},W=t(10),D=t.n(W),B=function(e){var a=e.currentTab,t=e.setCurrentTab;console.log("PANEL");var r=[{label:"Pull Requests",representedState:"pullRequests"},{label:"Open Issues",representedState:"openIssues"},{label:"Closed Issues",representedState:"closedIssues"}].map((function(e,r){var o=!1;return e.representedState===a&&(o=!0),n.a.createElement("button",{key:r,className:"".concat(o?D.a.activeTab:D.a.normalTap),onClick:function(){t(e.representedState)}},e.label)}));return n.a.createElement("div",{className:D.a.tapWrapper},r)},w=t(3),M=t.n(w),A=function(e){var a=e.setReposQuery,t=Object(r.useState)(""),o=Object(u.a)(t,2),s=o[0],l=o[1];console.log("FORMS");return n.a.createElement(n.a.Fragment,null,n.a.createElement("nav",{className:M.a.nav},n.a.createElement("span",{className:M.a.logo},n.a.createElement("i",{className:"fab fa-github-alt"})," Repos Checker"),n.a.createElement("div",null,n.a.createElement("a",{className:M.a.link,href:"https://developer.github.com/v4/",target:"_blank",rel:"noopener noreferrer"},"API"),n.a.createElement("a",{className:M.a.link,href:"https://github.com/shanwong29/repos-checker-2.0",target:"_blank",rel:"noopener noreferrer"},"Code"))),n.a.createElement("div",{className:M.a.formWrapper},n.a.createElement("form",{className:M.a.form,onSubmit:function(e){return function(e){e.preventDefault();var t=e.target.queryInput.value.split("/"),r=t[0]&&t[0].trim(),n=t[1]&&t[1].trim();r&&n?(a({owner:r,name:n}),l("")):l("* Please provide owner and name of the selected repository.")}(e)}},n.a.createElement("input",{className:M.a.input,name:"queryInput",type:"text",placeholder:" "}),n.a.createElement("span",{className:M.a.placeholder},"e.g. google / go-github"),n.a.createElement("button",{className:M.a.submitBtn,type:"submit"},"Search")),s&&n.a.createElement("p",{className:M.a.inputWarning},s)))},R=function(){console.log("APP");var e,a,t,o,s=Object(r.useState)("pullRequests"),i=Object(u.a)(s,2),p=i[0],b=i[1],f=Object(r.useState)({owner:"",name:""}),d=Object(u.a)(f,2),g=d[0],v=d[1],h={pullRequests:{variables:Object(c.a)({},g),queryType:"pullRequests"},openIssues:{variables:Object(c.a)({},g,{states:["OPEN"]}),queryType:"issues"},closedIssues:{variables:Object(c.a)({},g,{states:["CLOSED"]}),queryType:"issues"}}[p],E=h.variables,N=h.queryType,k=S({queryType:N,variables:E,skip:!g.name}),y=k.data,O=k.errorFromGithubApi,C=k.errorFromServer,T=k.fetchData,j=k.fetchMore,x=k.fetchMoreResult,W=k.isLoading;if(Object(r.useEffect)((function(){T()}),[g,p]),y){var D=y.repository,w=D.issues,M=D.pullRequests;e=w||M}if(x){var R=x.newData.repository,q=R.issues,P=R.pullRequests,F=x.previousData;(e=q||P).edges=[].concat(Object(l.a)(F),Object(l.a)(e.edges))}return e&&(a=e.pageInfo.endCursor,t=e.pageInfo.hasNextPage,o=e.edges.length),C?n.a.createElement("h1",null,"Something goes wrong!"):n.a.createElement(n.a.Fragment,null,W&&n.a.createElement(_,null),n.a.createElement(A,{setReposQuery:v}),n.a.createElement("div",{className:m.a.reposInfo},O&&n.a.createElement("p",null,O),y&&n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,y.repository.owner.login," / ",y.repository.name),n.a.createElement(B,{currentTab:p,setCurrentTab:b}),n.a.createElement(I,{issue:e}),t&&n.a.createElement("div",{className:m.a.fetchMoreBtnWrapper},n.a.createElement("button",{className:m.a.fetchMoreBtn,onClick:function(){j({previousData:e.edges,cursor:a})}},"Load more... (",o,"/",e.totalCount,")")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,a,t){e.exports={colors:'"../../index.css"',borderColor:"#E1E1E1",commentsWrapper:"Comments_commentsWrapper__Re4qN",commentText:"Comments_commentText__ZxEND",eachCommentWrapper:"Comments_eachCommentWrapper__1cmNN",fetchMoreBtn:"Comments_fetchMoreBtn__2KA3k"}},9:function(e,a,t){e.exports={reposInfo:"App_reposInfo__3Ze_c",fetchMoreBtn:"App_fetchMoreBtn__1Va5s",fetchMoreBtnWrapper:"App_fetchMoreBtnWrapper__W3Tli"}}},[[25,1,2]]]);
//# sourceMappingURL=main.acfe3af9.chunk.js.map